<!DOCTYPE html><html lang="en"><head><link rel="icon" type="image/png" href="images/wizard-logo-web-300x300.png"><link rel="shortcut icon" type="image/png" href="images/wizard-logo-web-300x300.png"><link rel="apple-touch-icon" sizes="180x180" href="images/wizard-logo-web-300x300.png"><link rel="icon" type="image/png" sizes="32x32" href="images/wizard-logo-web-300x300.png"><link rel="icon" type="image/png" sizes="16x16" href="images/wizard-logo-web-300x300.png"><link rel="mask-icon" href="images/wizard-logo-web-300x300.png" color="#89CFF0"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="description" content="Kitchener-Waterloo Wizards Basketball Association - Youth basketball programs, rep teams, development training, and individual coaching in the KW area."><meta name="keywords" content="basketball, youth sports, Kitchener, Waterloo, rep teams, basketball training, development program"><meta property="og:type" content="website"><meta property="og:url" content="https://kitchener-waterloo-wizards.com/"><meta property="og:title" content="Kitchener-Waterloo Wizards Basketball Association"><meta property="og:description" content="Youth basketball programs, rep teams, development training, and individual coaching in the KW area. Magic on the Court!"><meta property="og:image" content="https://kitchener-waterloo-wizards.com/images/wizard-logo-google-1200x630.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:site_name" content="Kitchener-Waterloo Wizards Basketball"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://kitchener-waterloo-wizards.com/"><meta property="twitter:title" content="Kitchener-Waterloo Wizards Basketball Association"><meta property="twitter:description" content="Youth basketball programs, rep teams, development training, and individual coaching in the KW area. Magic on the Court!"><meta property="twitter:image" content="https://kitchener-waterloo-wizards.com/images/wizard-logo-google-1200x630.png"><meta name="author" content="Kitchener-Waterloo Wizards Basketball Association"><meta name="robots" content="index, follow"><meta name="googlebot" content="index, follow"><link rel="canonical" href="https://kitchener-waterloo-wizards.com/"><meta name="msapplication-TileImage" content="https://kitchener-waterloo-wizards.com/images/wizard-logo-optimized-512x512.png"><meta name="msapplication-TileColor" content="#89CFF0"><meta name="theme-color" content="#89CFF0"><title>Kitchener-Waterloo Wizards Basketball Association | Youth Basketball Programs in KW</title>
<style>.menu-toggle{display:none;background:none;border:none;color:#89CFF0;font-size:1.8rem;cursor:pointer;padding:0.75rem;min-height:44px;min-width:44px;transition:all 0.3s ease;touch-action:manipulation;-webkit-tap-highlight-color:rgba(137,207,240,0.2)}.menu-toggle:hover{color:#fff;text-shadow:0 0 8px #89CFF0}.mobile-social-icons{display:none}.mobile-social-icons a{color:#89CFF0;font-size:1.4rem;margin:0 0.3rem;padding:0.5rem;border-radius:50%;transition:all 0.3s ease;min-height:44px;min-width:44px;display:inline-flex;align-items:center;justify-content:center;touch-action:manipulation;-webkit-tap-highlight-color:rgba(137,207,240,0.2)}.mobile-social-icons a:hover{color:#fff;text-shadow:0 0 8px #89CFF0;transform:scale(1.2);background:rgba(137,207,240,0.1)}@media (max-width:768px){
  /* Mobile touch-action hierarchy */header h1{pointer-events:auto;cursor:default;user-select:none;-webkit-user-select:none;touch-action:pan-y}.rep-team-box{pointer-events:auto !important;cursor:pointer !important;touch-action:manipulation !important;-webkit-user-select:text !important;user-select:text !important;min-height:44px !important;padding:1.5rem !important;transform:translateZ(0);backface-visibility:hidden;contain:layout style}.rep-team-box:active{transform:translateY(-2px) scale(0.98) translateZ(0) !important;transition:all 0.15s ease !important;background:linear-gradient(135deg,rgba(137,207,240,0.3),rgba(106,13,173,0.2)) !important;border-color:#89CFF0 !important}}@media (min-width:769px){header h1{pointer-events:auto;cursor:default}.rep-team-box{pointer-events:auto !important;cursor:pointer !important;touch-action:manipulation !important}}@media (max-width:768px){
  /* Mobile touch-action hierarchy */html{height:auto;min-height:100vh;
  min-height: -webkit-fill-available;min-height:-webkit-fill-available;overflow-y:scroll !important;-webkit-overflow-scrolling:touch;scroll-behavior:auto !important;overscroll-behavior-y:contain;transform:translateZ(0)
  min-height: 100vh;
  min-height: -webkit-fill-available;}body{min-height:100vh;
  min-height: -webkit-fill-available;min-height:-webkit-fill-available;padding-top:120px !important;padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom);overflow-y:scroll !important;-webkit-overflow-scrolling:touch;transform:translateZ(0);will-change:scroll-position;backface-visibility:hidden;perspective:1000;-webkit-font-smoothing:antialiased;-webkit-tap-highlight-color:transparent}*{-webkit-tap-highlight-color: rgba(137, 207, 240, 0.1) !important;-webkit-touch-callout:none !important;/* Allow text selection by default */user-select:none !important;touch-action:pan-y !important}p,span,div,h1,h2,h3,h4,h5,h6{-webkit-user-select:text !important;user-select:text !important}/* High specificity for interactive elements */
a:not([disabled]), button:not([disabled]), .btn:not([disabled]) {
  touch-action: manipulation !important;
}nav{width:calc(100% - env(safe-area-inset-left) - env(safe-area-inset-right));left:env(safe-area-inset-left);right:env(safe-area-inset-right)}main,.content,section{overflow-y:visible !important;min-height:auto !important}nav{width:100%;flex-direction:column;align-items:center;padding:0.8rem 1rem;min-height:auto}.mobile-nav-top

/* ACCESSIBILITY IMPROVEMENTS */
@media (max-width: 768px) {
  /* Allow text selection for content */
  p, span, h1, h2, h3, h4, h5, h6, 
  .header-text, .tagline, li, 
  .highlight-benefit, .highlight-key {
    -webkit-user-select: text !important;
    user-select: text !important;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Interactive elements should be clearly tappable */
  a, button, .btn, .menu-toggle, 
  .nav-links a, .mobile-social-icons a {
    -webkit-tap-highlight-color: rgba(137, 207, 240, 0.3) !important;
    -webkit-user-select: none !important;
    user-select: none !important;
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Form elements accessibility */
  input, select, textarea {
    -webkit-user-select: text !important;
    user-select: text !important;
    font-size: 16px !important; /* Prevent iOS zoom */
    -webkit-tap-highlight-color: rgba(137, 207, 240, 0.2);
  }
}
/* TOUCH-ACTION OPTIMIZATION - Resolve Conflicts */
@media (max-width: 768px) {
  /* Base rule: Allow vertical scrolling */
  * {
    touch-action: pan-y;
  }
  
  /* Interactive elements: Allow all gestures */
  a, button, .btn, input, select, textarea, 
  .menu-toggle, .mobile-social-icons a, 
  .nav-links a, .rep-team-box, 
  [role="button"], [onclick] {
    touch-action: manipulation !important;
  }
  
  /* Scrollable containers: Allow pan gestures */
  .nav-links, main, section, 
  .calendar-box, html, body {
    touch-action: pan-y pan-x;
  }
  
  /* Text content: Allow selection */
  p, span, h1, h2, h3, h4, h5, h6, 
  .header-text, .tagline {
    touch-action: pan-y;
    -webkit-user-select: text;
    user-select: text;
  }
}{display:flex;justify-content:space-between;align-items:center;width:100%;margin-bottom:0;padding:0.5rem 0;gap:1rem}.mobile-social-icons{display:flex;align-items:center;margin-left:auto;margin-right:0.5rem}.social-inline{display:none !important}.menu-toggle{display:block;margin-bottom:0;transition:all 0.3s ease}.menu-toggle.active{transform:rotate(90deg);color:#fff}.nav-links{display:none;opacity:0;transform:translateY(-10px);flex-direction:column;width:100%;text-align:center;background:rgba(0,0,0,0.95);border-radius:8px;padding:0.8rem 0;margin-top:0;box-shadow:0 0 20px rgba(137,207,240,0.3);transition:all 0.3s ease;position:fixed;top:120px;left:0;right:0;z-index:999;height:calc(100vh - 120px);overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch}.nav-links.active{display:flex;opacity:1;transform:translateY(0)}h1,h2,h3,h4,h5,h6,p,span,div:not(.btn):not([role="button"]):not(.menu-toggle):not(.nav-links):not(.mobile-nav-top):not(.mobile-social-icons):not(.rep-team-box),li:not([role="button"]),header:not(:has(.menu-toggle)),section:not([role="button"]),.header-text,.tagline,.coming-soon{-webkit-user-select:text !important;user-select:text !important;-webkit-tap-highlight-color: rgba(137, 207, 240, 0.1) !important;touch-action:pan-y !important;pointer-events:auto !important}a,button,.btn,input,select,textarea,.menu-toggle,#menu-toggle,.social-inline a,.mobile-social-icons a,.nav-links a,nav,nav *,[role="button"],[onclick],.mobile-nav-top,.mobile-nav-top *,.rep-team-box{-webkit-user-select:text !important;user-select:text !important;-webkit-tap-highlight-color:rgba(137,207,240,0.3) !important;touch-action:manipulation !important;pointer-events:auto !important;cursor:pointer !important}}.mobile-nav-top .nav-logo.hidden{display:none}.nav-links a{margin:0.5rem 0;padding:1rem 1.5rem;border-radius:6px;transition:all 0.3s ease;min-height:44px;display:flex;align-items:center;justify-content:center;touch-action:manipulation;-webkit-tap-highlight-color:rgba(137,207,240,0.2)}.nav-links a:hover{background:rgba(137,207,240,0.2)}header h1{font-size:2.5rem}header p{font-size:1.2rem}.header-content{flex-direction:column;align-items:center}.nav-logo{height:70px !important;width:auto !important;margin-right:0 !important;transform:none !important}section{padding:2rem 1rem}section h2{font-size:1.8rem}.star{width:1px !important;height:1px !important}.rep-team-box{position:relative !important;left:auto !important;top:auto !important;max-width:90% !important;margin:1rem auto !important;order:-1}}@media (max-width:480px){body{padding-top:100px !important}nav{padding:0.6rem 0.8rem}header h1{font-size:2rem}header p{font-size:1rem}.nav-logo{height:60px !important;width:auto !important}section{padding:1.5rem 0.8rem}section h2{font-size:1.5rem}section p{font-size:1rem}.btn{padding:0.8rem 1.5rem;font-size:0.9rem}#register form{padding:1.5rem;width:90%}#register form input,#register form select,#register form textarea{max-width:100%}.star{width:0.5px !important;height:0.5px !important}.rep-team-box{padding:1rem !important;max-width:95% !important}.rep-team-box h3{font-size:1.2rem !important}.rep-team-box p{font-size:0.8rem !important}}@media (min-width:769px){.menu-toggle{display:none !important}.mobile-social-icons{display:none !important}nav{display:flex !important;justify-content:center;align-items:center;text-align:center;flex-direction:row;padding:1rem 2rem}.mobile-nav-top{display:flex !important;justify-content:flex-start;align-items:center;width:auto;margin-bottom:0;padding:0;gap:1rem;margin-left:auto;margin-right:1rem}.nav-links{display:flex !important;flex-direction:row;position:static;opacity:1;transform:none;background:none;box-shadow:none;padding:0;align-items:center;justify-content:center;width:100%;height:auto;overflow:visible;margin-top:0;margin-left:0;padding-right:0}.nav-links a{margin:0 1rem;padding:0.5rem 1rem;min-height:auto;display:inline-block}}body,html{margin:0;padding:0;height:100%;font-family:Poppins,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;color:white;background:#000;overflow-x:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility
  min-height: 100vh;
  min-height: -webkit-fill-available;}body{padding-top:100px}@media (min-width:769px){body{scrollbar-width:none;-ms-overflow-style:none}body::-webkit-scrollbar{width:0px;background:transparent}}@media (max-width:768px){
  /* Mobile touch-action hierarchy */body{scrollbar-width:auto;-ms-overflow-style:auto;overflow-y:auto !important;-webkit-overflow-scrolling:touch}body::-webkit-scrollbar{width:auto;background:auto}html{overflow-y:auto !important;-webkit-overflow-scrolling:touch
  min-height: 100vh;
  min-height: -webkit-fill-available;}}@media (max-width:768px){
  /* Mobile touch-action hierarchy */body::-webkit-scrollbar{width:8px;background:rgba(0,0,0,0.3)}body::-webkit-scrollbar-thumb{background:rgba(137,207,240,0.6);border-radius:4px}body::-webkit-scrollbar-thumb:hover{background:rgba(137,207,240,0.8)}body{scrollbar-width:thin;scrollbar-color:rgba(137,207,240,0.6) rgba(0,0,0,0.3);overflow-y:auto;-webkit-overflow-scrolling:touch}html{overflow-y:auto;-webkit-overflow-scrolling:touch
  min-height: 100vh;
  min-height: -webkit-fill-available;}h1,h2,h3,h4,h5,h6,p,span,div:not(.btn):not([role="button"]):not(.menu-toggle):not(.nav-links):not(.mobile-nav-top):not(.mobile-social-icons),li:not([role="button"]),header:not(:has(.menu-toggle)),section:not([role="button"]),.header-text,.tagline,.coming-soon,.program-card h3,.program-card p,.highlight-key,.highlight-benefit,.highlight-stat{-webkit-user-select:text !important;user-select:text !important;-webkit-tap-highlight-color: rgba(137, 207, 240, 0.1) !important;touch-action:pan-y !important}a,button,.btn,input,select,textarea,.menu-toggle,#menu-toggle,.social-inline a,.mobile-social-icons a,.nav-links a,nav,nav *,[role="button"],[onclick],.mobile-nav-top,.mobile-nav-top *{/* Allow text selection by default */user-select:none !important;-webkit-tap-highlight-color:rgba(137,207,240,0.3) !important;touch-action:manipulation !important;pointer-events:auto !important;cursor:pointer !important}}}h1,h2,h3,h4,h5,h6{color:#6a0dad;margin-bottom:1rem;font-weight:bold}header h1{margin:0;font-size:3rem;color:white;text-shadow:0 0 5px #89CFF0,0 0 10px #89CFF0,0 0 15px #6a0dad,0 0 20px #6a0dad}header p{font-size:1.5rem;font-style:italic;margin-top:0.5rem;text-align:center}p,li{color:#fff;font-size:1rem;line-height:1.6}a{color:#89CFF0;text-decoration:none}a:hover{color:#6a0dad;text-shadow:0 0 6px #89CFF0}.stars{position:fixed;width:100%;height:100%;top:0;left:0;z-index:-1;will-change:transform;contain:layout style paint}.star{position:absolute;background:white;border-radius:50%;opacity:0.6;will-change:transform;transform:translate3d(0,0,0);backface-visibility:hidden}header{padding:1rem 2rem 0.5rem 2rem;text-align:center;position:relative}.header-content{display:flex;align-items:flex-start;justify-content:center;position:relative;margin-top:1.5rem}.header-text{text-align:center}@media (min-width:769px){.header-content{justify-content:center}.header-text{text-align:center;width:100%}}nav{position:fixed;width:100%;top:0;left:0;right:0;z-index:1000;background:rgba(0,0,0,0.9);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);display:flex;justify-content:center;align-items:center;padding:1rem 2rem;text-align:center;margin-top:0;left:0;right:0;border-bottom:1px solid rgba(137,207,240,0.2);box-shadow:0 4px 15px rgba(0,0,0,0.7);transition:all 0.5s ease}nav.collapsed{padding:0.8rem 2rem}.nav-logo{height:60px;width:auto;filter:drop-shadow(0 0 10px #89CFF0) drop-shadow(0 0 15px #6a0dad);transition:all 0.3s ease;margin-right:1rem;cursor:pointer;object-fit:contain}.nav-logo:hover{transform:scale(1.1);filter:drop-shadow(0 0 15px #89CFF0) drop-shadow(0 0 25px #6a0dad)}nav.collapsed .nav-logo{height:50px;transform:translateY(-2px)}nav.collapsed a{font-size:0.9rem}body{padding-top:80px}.nav-links{display:flex;align-items:center}nav a{margin:0 1rem;color:#89CFF0;text-decoration:none;font-weight:bold;position:relative;transition:all 0.5s ease}nav a:hover{color:#fff;text-shadow:0 0 8px #89CFF0,0 0 15px #6a0dad;transform:scale(1.1)}section{padding:3rem;text-align:center;background:linear-gradient(135deg,rgba(137,207,240,0.1),rgba(106,13,173,0.05));border:1px solid rgba(137,207,240,0.3);border-radius:15px;margin:2rem auto;max-width:1000px;box-shadow:0 0 20px rgba(137,207,240,0.2);transition:all 0.3s ease}section:hover{transform:translateY(-2px);box-shadow:0 0 30px rgba(137,207,240,0.3),0 0 60px rgba(106,13,173,0.15);border-color:rgba(137,207,240,0.5)}section h2{color:white;margin-bottom:1.5rem;font-weight:bold;font-size:2.2rem;text-transform:uppercase;letter-spacing:1px;-webkit-text-stroke:1px #6a0dad;text-stroke:1px #6a0dad;text-align:center}section p{font-size:1.1rem;line-height:1.8;margin-bottom:1.5rem}.btn{display:inline-block;padding:1rem 2rem;background:#89CFF0;color:#000;border-radius:8px;text-decoration:none;font-weight:bold;transition:all 0.3s ease;min-height:44px;min-width:120px;display:flex;align-items:center;justify-content:center;touch-action:manipulation;-webkit-tap-highlight-color: rgba(137, 207, 240, 0.2);user-select:none}.btn:hover{background:#6a0dad;color:#fff}footer{background:#000;color:white;text-align:center;padding:1.5rem;margin-top:2rem}#back-to-top{background:#89CFF0;color:#000;border:none;padding:0.8rem 1.5rem;border-radius:8px;font-weight:bold;cursor:pointer;transition:all 0.3s ease;margin-top:1rem;animation:pulse 2s infinite}#back-to-top:hover{background:#6a0dad;color:#fff;transform:translateY(-2px);box-shadow:0 0 15px #89CFF0,0 0 30px #6a0dad}.social-inline{margin-left:1rem;display:inline-block}.social-inline a{color:#89CFF0;font-size:1.2rem;margin:0 0.5rem;transition:all 0.3s ease;opacity:0.8;text-decoration:none}.social-inline a:hover{color:#fff;text-shadow:0 0 8px #89CFF0;transform:scale(1.3);opacity:1}#register form{background:radial-gradient(circle at center,rgba(137,207,240,0.2),rgba(106,13,173,0.1),transparent);padding:2rem;border-radius:12px;display:inline-block;box-shadow:0 0 25px rgba(137,207,240,0.3),0 0 50px rgba(106,13,173,0.2)}#register form label{display:block;margin-top:1rem}#register form input,#register form select,#register form textarea{margin-top:0.5rem;padding:0.5rem;width:100%;max-width:300px;border-radius:6px;border:none}#register button,.btn{animation:pulse 2s infinite}@keyframes pulse{0%{box-shadow:0 0 5px #89CFF0,0 0 10px #6a0dad}50%{box-shadow:0 0 20px #89CFF0,0 0 40px #6a0dad}100%{box-shadow:0 0 5px #89CFF0,0 0 10px #6a0dad}}.shimmer-star{position:absolute;background:white;border-radius:50%;opacity:0.6;animation:shimmer 3s infinite ease-in-out alternate;will-change:transform,opacity;transform:translate3d(0,0,0);backface-visibility:hidden}.shimmer-stars{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-2;will-change:transform;contain:layout style paint}@keyframes shimmer{from{opacity:0.2;transform:scale(0.9)}to{opacity:1;transform:scale(1.2)}}.highlight-key{background:linear-gradient(135deg,rgba(137,207,240,0.35),rgba(106,13,173,0.25));padding:0.3rem 0.6rem;border-radius:6px;color:#fff;font-weight:bold;text-shadow:0 0 8px #89CFF0;box-shadow:0 0 12px rgba(137,207,240,0.4)}.highlight-benefit{color:#89CFF0;font-weight:bold;text-shadow:0 0 8px #89CFF0;filter:brightness(1.1)}.highlight-stat{background:rgba(106,13,173,0.5);color:#89CFF0;padding:0.3rem 0.5rem;border-radius:5px;font-weight:bold;text-shadow:0 0 8px #89CFF0;border:1px solid rgba(137,207,240,0.4);filter:brightness(1.1)}@media (max-width:768px){
  /* Mobile touch-action hierarchy */.highlight-key,.highlight-benefit,.highlight-stat{-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;touch-action:pan-y}}.rep-team-box{position:absolute;right:0;top:-10px;background:linear-gradient(135deg,rgba(137,207,240,0.2),rgba(106,13,173,0.15));border:2px solid #89CFF0;border-radius:12px;padding:1.5rem;max-width:280px;text-align:center;cursor:pointer;transition:all 0.5s ease;text-decoration:none;display:block;color:white;box-shadow:0 0 20px rgba(137,207,240,0.3);z-index:10;filter:drop-shadow(0 0 20px #89CFF0) drop-shadow(0 0 30px #6a0dad)}.rep-team-box:hover{transform:translateY(-5px) scale(1.05);background:linear-gradient(135deg,rgba(137,207,240,0.3),rgba(106,13,173,0.25));border-color:#6a0dad;box-shadow:0 0 30px rgba(137,207,240,0.5),0 0 60px rgba(106,13,173,0.3);color:white;filter:drop-shadow(0 0 30px #89CFF0) drop-shadow(0 0 50px #6a0dad)}.rep-team-box h3{color:#89CFF0;font-size:1.4rem;margin-bottom:0.5rem;text-shadow:0 0 8px #89CFF0}.rep-team-box p{font-size:0.9rem;margin-bottom:1rem;color:#fff;line-height:1.4}.rep-team-box .learn-more{color:#89CFF0;font-weight:bold;font-size:0.9rem;text-decoration:underline}.calendar-box{display:block;background:linear-gradient(135deg,rgba(137,207,240,0.15),rgba(106,13,173,0.1));border:2px solid rgba(137,207,240,0.4);border-radius:15px;padding:1.5rem;max-width:400px;margin:2rem auto;text-decoration:none;color:white;cursor:pointer;transition:all 0.4s ease;box-shadow:0 0 20px rgba(137,207,240,0.2)}.calendar-box:hover{transform:translateY(-5px);background:linear-gradient(135deg,rgba(137,207,240,0.25),rgba(106,13,173,0.2));border-color:#89CFF0;box-shadow:0 0 30px rgba(137,207,240,0.4),0 0 60px rgba(106,13,173,0.2);color:white}.calendar-box-header{text-align:center;margin-bottom:1rem}.calendar-title{font-size:1.3rem;color:#89CFF0;font-weight:bold;text-shadow:0 0 8px #89CFF0}.calendar-box-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:3px;margin-bottom:1rem}.calendar-box-day-header{text-align:center;font-size:0.8rem;color:#89CFF0;font-weight:bold;padding:0.3rem 0;border-bottom:1px solid rgba(137,207,240,0.3)}.calendar-box-day{text-align:center;padding:0.4rem;font-size:0.9rem;color:#fff;border-radius:4px;transition:all 0.2s ease}.calendar-box-day:hover{background:rgba(137,207,240,0.2)}.calendar-box-highlight{background:rgba(106,13,173,0.6);color:#89CFF0;font-weight:bold;box-shadow:0 0 8px rgba(137,207,240,0.3);animation:pulse 2s infinite}.calendar-box-cta{text-align:center;padding-top:1rem;border-top:1px solid rgba(137,207,240,0.3)}.calendar-cta-text{color:#89CFF0;font-weight:bold;font-size:1rem;text-shadow:0 0 8px #89CFF0;transition:all 0.3s ease}.calendar-box:hover .calendar-cta-text{color:#fff;text-shadow:0 0 10px #89CFF0,0 0 20px #6a0dad}@media (max-width:768px){
  /* Mobile touch-action hierarchy */.calendar-box{max-width:90%;padding:1rem}.calendar-title{font-size:1.1rem}.calendar-box-day{font-size:0.8rem;padding:0.2rem}.calendar-box-day-header{font-size:0.7rem}}@media (max-width:480px){.calendar-box{padding:0.8rem}.calendar-box-day{font-size:0.7rem;padding:0.1rem}.calendar-box-grid{gap:2px}}@media (max-width:768px){
  /* Mobile touch-action hierarchy */body:not(.animations-loaded) .star{opacity:0 !important;animation:none !important}body:not(.animations-loaded) .shimmer-star{opacity:0 !important;animation:none !important}body.animations-loaded .star{opacity:0.6;animation:star-twinkle 4s ease-in-out infinite}body.animations-loaded .shimmer-star{opacity:0.6;animation:shimmer 3s infinite ease-in-out alternate}body:not(.animations-loaded)::after{content:"";position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:20px;height:20px;border:2px solid rgba(137,207,240,0.3);border-top:2px solid #89CFF0;border-radius:50%;animation:spin 1s linear infinite;z-index:1001;display:none}@keyframes spin{0%{transform:translate(-50%,-50%) rotate(0deg)}100%{transform:translate(-50%,-50%) rotate(360deg)}}@keyframes twinkle{0%,100%{opacity:0.2;transform:scale(0.9)}50%{opacity:0.8;transform:scale(1.1)}}}
/* COMPREHENSIVE iOS SAFARI OPTIMIZATIONS */
@supports (-webkit-touch-callout: none) {
  /* iOS Safari specific fixes */
  body {
    /* Fix viewport height on iOS Safari */
    min-height: 100vh;
    min-height: -webkit-fill-available;
    
    /* Improve scrolling performance */
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
  
  /* Fix iOS Safari viewport height issues */
  .nav-links {
    height: calc(100vh - 120px);
    height: calc(-webkit-fill-available - 120px);
  }
  
  /* Prevent iOS Safari zoom on input focus */
  input, select, textarea {
    font-size: 16px !important;
    transform: translateZ(0); /* Force hardware acceleration */
  }
  
  /* iOS Safari safe area support */
  body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  nav {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* Enhanced accessibility for screen readers */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .star {
    animation: none !important;
    opacity: 0.2 !important;
  }
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"><script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SportsOrganization",
  "name": "Kitchener-Waterloo Wizards Basketball Association",
  "alternateName": "KW Wizards Basketball",
  "description": "Youth basketball programs, rep teams, development training, and individual coaching in the Kitchener-Waterloo area. Magic on the Court!",
  "url": "https://kitchener-waterloo-wizards.com",
  "logo": {
    "@type": "ImageObject",
    "url": "https://kitchener-waterloo-wizards.com/images/wizard-logo.png",
    "width": 1024,
    "height": 1024,
    "contentUrl": "https://kitchener-waterloo-wizards.com/images/wizard-logo.png",
    "name": "Kitchener-Waterloo Wizards Basketball Logo",
    "description": "Official logo of Kitchener-Waterloo Wizards Basketball Association - Square format for Google search results"
  },
  "image": [
    "https://kitchener-waterloo-wizards.com/images/wizard-logo-google-1200x630.png",
    "https://kitchener-waterloo-wizards.com/images/wizard-logo-optimized-512x512.png",
    "https://kitchener-waterloo-wizards.com/images/wizard-logo-web-300x300.png"
  ],
  "sameAs": [
    "https://www.instagram.com/kitchener_waterloo_wizards/",
    "https://www.facebook.com/profile.php?id=61566563145647"
  ],
  "contactPoint": {
    "@type": "ContactPoint",
    "telephone": "+1-416-419-0964",
    "contactType": "customer service",
    "email": "tricitywizards@gmail.com",
    "availableLanguage": "en"
  },
  "address": {
    "@type": "PostalAddress",
    "addressLocality": "Kitchener-Waterloo",
    "addressRegion": "Ontario",
    "addressCountry": "CA"
  },
  "sport": "Basketball",
  "memberOf": {
    "@type": "SportsOrganization",
    "name": "Youth Basketball Programs"
  },
  "offers": [
    {
      "@type": "Service",
      "name": "Youth Development Programs",
      "description": "Basketball development training for all skill levels"
    },
    {
      "@type": "Service", 
      "name": "Rep Team Programs",
      "description": "Competitive basketball teams for advanced players"
    },
    {
      "@type": "Service",
      "name": "Individual Training",
      "description": "One-on-one basketball coaching and skill development"
    }
  ],
  "slogan": "Magic on the Court"
}
</script><style>body:before{content:none !important}html{margin:0;padding:0;font-family:Poppins,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;color:white;background:#000;overflow-x:hidden
  min-height: 100vh;
  min-height: -webkit-fill-available;}body{margin:0;padding:0;background:#000;color:white;min-height:100vh}body>*:not(div):not(header):not(nav):not(section):not(footer):not(script){display:none !important}</style>
<body class="loading"><div class="stars" id="stars"></div><header><div class="header-content"><div class="header-text"><h1>Kitchener-Waterloo Wizards</h1><p>"Magic on the Court"
<span class="social-inline"><a href="https://www.instagram.com/kitchener_waterloo_wizards/" target="_blank" aria-label="Follow us on Instagram"><i class="fab fa-instagram"></i></a><a href="https://www.facebook.com/profile.php?id=61566563145647" target="_blank" aria-label="Follow us on Facebook"><i class="fab fa-facebook"></i></a></span></p></div><a href="rep-teams.html" class="rep-team-box"><h3>üèÄ 25-26 Boys Rep Team</h3><p>Join our competitive boys rep team for the 2025-26 season!</p><span class="learn-more">Learn More ‚Üí</span></a></div></header><nav><div class="mobile-nav-top"><a href="index.html" class="logo-link" aria-label="Go to Home"><img src="images/wizard-logo-web-300x300.png" alt="KW Wizards Logo" class="nav-logo"></a><div class="mobile-social-icons"><a href="https://www.facebook.com/profile.php?id=61566563145647" target="_blank" aria-label="Follow us on Facebook" class="mobile-social-link"><i class="fab fa-facebook"></i></a><a href="https://www.instagram.com/kitchener_waterloo_wizards/" target="_blank" aria-label="Follow us on Instagram" class="mobile-social-link"><i class="fab fa-instagram"></i></a></div><div class="menu-toggle" id="menu-toggle">‚ò∞</div></div><div class="nav-links" id="nav-links"><a href="index.html">Home</a><a href="about.html">About</a><a href="development.html">Development</a><a href="rep-teams.html">Rep Teams</a><a href="individual-training.html">Individual Training</a><a href="upcoming-events.html">Wizard News</a><a href="photo-gallery.html">Photo Gallery</a><a href="registration.html">Registration</a></div></nav><section id="about"><h2>Welcome to the Wizards</h2><p>
The Kitchener-Waterloo Wizards are more than just a youth basketball team ‚Äî
we are a community built on passion, teamwork, and discipline. Our program is
designed not only to teach the game of basketball, but also to help young
athletes develop the life skills that will serve them well beyond the court.
</p><p>
We proudly practice locally in the Kitchener-Waterloo area, making it
convenient for families in our community to be part of the Wizards
experience. Our season runs <span class="highlight-benefit">from September through August</span>, with <span class="highlight-benefit">year-round training</span> and
practices held year-round to ensure players continue to grow, learn, and
stay active.
</p></section><section id="why-join-kwmba"><h2>Benefits of Joining the Kitchener Waterloo Basketball Association</h2><p>At the Kitchener-Waterloo Wizards, we believe basketball is more than just a sport ‚Äî it's a way to build connections, confidence, and character. What sets us apart is the <span class="highlight-benefit">strong relationships we build with our players</span>. Our coaches take the time to understand each athlete, guiding them not only in developing their basketball skills, but also in becoming confident and responsible individuals.</p><p>Another key advantage of joining the Wizards is our <span class="highlight-benefit">year-round training</span>. With practices and development opportunities running <span class="highlight-benefit">from September through August</span>, players are able to stay active, continue learning, and build their skills in every season. This consistent approach gives athletes the chance to grow steadily, rather than starting over each year.</p><p>When you join the Kitchener-Waterloo Wizards, you're not just signing up for basketball ‚Äî you're <span class="highlight-benefit">joining a supportive community</span> that's committed to helping your child succeed on and off the court.</p></section><section id="events"><h2>Ready to Join the Wizards?</h2><p>Start your basketball journey with the Kitchener-Waterloo Wizards. We offer programs for <span class="highlight-benefit">all ages and skill levels</span>, from beginner-friendly development sessions (coached in <span class="highlight-benefit">small groups of no more than 10</span> by our <span class="highlight-benefit">professional, experienced coaches</span>) to competitive rep teams.</p><p><span class="highlight-benefit">Registration is open year-round!</span> Get started today and discover the magic of basketball with our experienced coaching staff.</p><a href="registration.html" class="btn">Register Now</a></section><section id="calendar-section"><h2>Wizard News</h2><p>Stay up to date with our latest tournaments, tryouts, and special basketball events!</p><a href="upcoming-events.html" class="calendar-box"><div class="calendar-box-header"><div class="calendar-title">üìÖ Events Calendar</div></div><div class="calendar-box-grid"><div class="calendar-box-day-header">Sun</div><div class="calendar-box-day-header">Mon</div><div class="calendar-box-day-header">Tue</div><div class="calendar-box-day-header">Wed</div><div class="calendar-box-day-header">Thu</div><div class="calendar-box-day-header">Fri</div><div class="calendar-box-day-header">Sat</div><div class="calendar-box-day">1</div><div class="calendar-box-day">2</div><div class="calendar-box-day">3</div><div class="calendar-box-day">4</div><div class="calendar-box-day">5</div><div class="calendar-box-day">6</div><div class="calendar-box-day">7</div><div class="calendar-box-day">8</div><div class="calendar-box-day">9</div><div class="calendar-box-day">10</div><div class="calendar-box-day">11</div><div class="calendar-box-day">12</div><div class="calendar-box-day">13</div><div class="calendar-box-day">14</div><div class="calendar-box-day">15</div><div class="calendar-box-day">16</div><div class="calendar-box-day">17</div><div class="calendar-box-day">18</div><div class="calendar-box-day">19</div><div class="calendar-box-day">20</div><div class="calendar-box-day">21</div><div class="calendar-box-day">22</div><div class="calendar-box-day">23</div><div class="calendar-box-day">24</div><div class="calendar-box-day">25</div><div class="calendar-box-day">26</div><div class="calendar-box-day">27</div><div class="calendar-box-day">28</div><div class="calendar-box-day">29</div><div class="calendar-box-day">30</div><div class="calendar-box-day">31</div></div><div class="calendar-box-cta"><span class="calendar-cta-text">View All Events ‚Üí</span></div></a></section><footer><p>¬© 2025 Kitchener-Waterloo Wizards Basketball | "Magic on the Court"</p><div class="footer-contact"><p>üìß Email: <a href="mailto:tricitywizards@gmail.com" style="color: #89CFF0; text-decoration: none;">tricitywizards@gmail.com</a></p><p>üìû Phone: <a href="tel:+14164190964" style="color: #89CFF0; text-decoration: none;">1-416-419-0964</a></p><p>üèÄ Kitchener-Waterloo Wizards Basketball</p></div><button id="back-to-top">‚¨Ü Back to Top</button></footer>
<script>
    // Enhanced mobile detection with touch capability
    function isMobile() {
      return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
             ('ontouchstart' in window) ||
             (navigator.maxTouchPoints > 0) ||
             window.innerWidth <= 768;
    }
    
    // Ultra-mobile optimizations for zero latency
    function initUltraMobileOptimizations() {
      if (!isMobile()) return;
      
      // Disable 300ms tap delay completely
      document.addEventListener('touchstart', function() {}, { passive: true });
      
      // Preload critical resources instantly
      const preloadResources = () => {
        const criticalPages = ['registration.html', 'about.html', 'rep-teams.html'];
        criticalPages.forEach(page => {
          const link = document.createElement('link');
          link.rel = 'prefetch';
          link.href = page;
          link.crossOrigin = 'anonymous';
          document.head.appendChild(link);
        });
      };
      
      // DNS prefetch for external resources
      const dnsPrefetch = () => {
        const domains = ['cdnjs.cloudflare.com'];
        domains.forEach(domain => {
          const link = document.createElement('link');
          link.rel = 'dns-prefetch';
          link.href = `//${domain}`;
          document.head.appendChild(link);
        });
      };
      
      // Ultra-fast scrolling optimizations
      const optimizeScrolling = () => {
        // Reduce scroll throttling for instant response
        let scrollTimeout;
        const fastScrollHandler = () => {
          clearTimeout(scrollTimeout);
          scrollTimeout = requestAnimationFrame(() => {
            // Minimal scroll processing - use RAF for 60fps smoothness
            const scrollY = window.pageYOffset;
            const nav = document.querySelector('nav');
            if (nav) {
              nav.classList.toggle('collapsed', scrollY > 100);
            }
          });
        };
        
        window.addEventListener('scroll', fastScrollHandler, { passive: true });
      };
      
      // Reduce animation complexity for mobile
      const optimizeAnimations = () => {
        const style = document.createElement('style');
        style.textContent = `
          @media (max-width: 768px) {
  /* Mobile touch-action hierarchy */
            /* Ultra-fast animations */
            *, *::before, *::after {
              animation-duration: 0.1s !important;
              animation-delay: 0s !important;
              transition-duration: 0.1s !important;
              transition-delay: 0s !important;
            }
            
            /* Disable heavy effects */
            .star, .shimmer-star {
              animation: none !important;
              transform: none !important;
            }
            
            /* Instant hover states */
            .btn:hover, .nav-links a:hover {
              transition: none !important;
            }
            
            /* Force GPU acceleration on scrollable content */
            section, .calendar-box {
              transform: translateZ(0);
              backface-visibility: hidden;
              perspective: 1000;
            }
          }
        `;
        document.head.appendChild(style);
      };
      
      // Execute optimizations immediately
      preloadResources();
      dnsPrefetch();
      optimizeScrolling();
      optimizeAnimations();
      
      // Instant touch feedback
      document.addEventListener('touchstart', (e) => {
        if (e.target.matches('a, button, .btn')) {
          e.target.style.transform = 'scale(0.98)';
          e.target.style.opacity = '0.8';
        }
      }, { passive: true });
      
      document.addEventListener('touchend', (e) => {
        if (e.target.matches('a, button, .btn')) {
          e.target.style.transform = '';
          e.target.style.opacity = '';
        }
      }, { passive: true });
    }
    
    // Initialize ultra-mobile optimizations first
    if (isMobile()) {
      initUltraMobileOptimizations();
    }
    
    // Ensure registration buttons work on mobile
    document.addEventListener('DOMContentLoaded', function() {
      if (isMobile()) {
        const regButtons = document.querySelectorAll('a[href="registration.html"]');
        regButtons.forEach(button => {
          // Enhanced mobile touch handling
          button.style.touchAction = 'manipulation';
          button.style.webkitTapHighlightColor = 'rgba(137, 207, 240, 0.3)';
          button.style.minHeight = '44px';
          button.style.minWidth = '120px';
          button.style.display = 'inline-flex';
          button.style.alignItems = 'center';
          button.style.justifyContent = 'center';
          
          // Multiple event handlers for better mobile compatibility
          const navigateToRegistration = function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            // Multiple fallback navigation methods
            try {
              // Method 1: Direct navigation
              window.location.href = './registration.html';
            } catch (error) {
              try {
                // Method 2: Using replace
                window.location.replace('./registration.html');
              } catch (error2) {
                // Method 3: Using assign
                window.location.assign('./registration.html');
              }
            }
          };
          
          // Add multiple event listeners for better mobile compatibility
          button.addEventListener('click', navigateToRegistration, { passive: false });
          button.addEventListener('touchend', function(e) {
            // Prevent ghost clicks and ensure proper navigation
            if (e.target === this) {
              navigateToRegistration(e);
            }
          }, { passive: false });
        });
        
        // Enhanced mobile contact functionality
        const emailLinks = document.querySelectorAll('a[href^="mailto:"]');
        emailLinks.forEach(link => {
          link.style.touchAction = 'manipulation';
          link.style.webkitTapHighlightColor = 'rgba(137, 207, 240, 0.3)';
          link.style.minHeight = '44px';
          link.style.minWidth = '44px';
          link.style.display = 'inline-block';
          link.style.padding = '0.5rem';
        });
        
        const phoneLinks = document.querySelectorAll('a[href^="tel:"]');
        phoneLinks.forEach(link => {
          link.style.touchAction = 'manipulation';
          link.style.webkitTapHighlightColor = 'rgba(137, 207, 240, 0.3)';
          link.style.minHeight = '44px';
          link.style.minWidth = '44px';
          link.style.display = 'inline-block';
          link.style.padding = '0.5rem';
        });
        
        // DEDICATED MOBILE SOCIAL MEDIA LINKS OPTIMIZATION
        const mobileAllSocialLinks = document.querySelectorAll('.mobile-social-link, .mobile-social-icons a, .social-inline a, a[href*="facebook"], a[href*="instagram"]');
        mobileAllSocialLinks.forEach(link => {
          // Enhanced touch properties
          link.style.touchAction = 'manipulation';
          link.style.webkitTapHighlightColor = 'rgba(137, 207, 240, 0.3)';
          link.style.minHeight = '44px';
          link.style.minWidth = '44px';
          link.style.display = 'inline-flex';
          link.style.alignItems = 'center';
          link.style.justifyContent = 'center';
          link.style.userSelect = 'none';
          link.style.webkitUserSelect = 'none';
          
          // Ensure target="_blank" for external links
          if (link.href && (link.href.includes('facebook') || link.href.includes('instagram'))) {
            link.target = '_blank';
            link.rel = 'noopener noreferrer';
            
            // Add dedicated mobile touch handler for social links
            link.addEventListener('touchstart', function(e) {
              // Prevent any interference but allow the link to work
              e.stopPropagation();
            }, { passive: true });
            
            link.addEventListener('touchend', function(e) {
              e.stopPropagation();
              // Direct navigation without preventDefault to ensure it works
              window.open(this.href, '_blank', 'noopener,noreferrer');
            }, { passive: false });
            
            // Backup click handler
            link.addEventListener('click', function(e) {
              if (isMobile()) {
                e.preventDefault();
                e.stopPropagation();
                window.open(this.href, '_blank', 'noopener,noreferrer');
              }
            }, { passive: false });
          }
        });
        
        // DEDICATED MOBILE REP TEAM BOX NAVIGATION
        const repTeamBoxes = document.querySelectorAll('.rep-team-box, a[href="rep-teams.html"]');
        repTeamBoxes.forEach(box => {
          // Enhanced mobile touch handling for rep team box
          box.style.touchAction = 'manipulation';
          box.style.webkitTapHighlightColor = 'rgba(137, 207, 240, 0.3)';
          box.style.userSelect = 'none';
          box.style.webkitUserSelect = 'none';
          
          // Ensure it navigates to rep-teams.html on mobile
          if (box.href && box.href.includes('rep-teams.html')) {
            // Multiple event handlers for better mobile navigation
            const navigateToRepTeams = function(e) {
              e.preventDefault();
              e.stopPropagation();
              
              // Multiple fallback navigation methods
              try {
                // Method 1: Direct navigation
                window.location.href = './rep-teams.html';
              } catch (error) {
                try {
                  // Method 2: Using replace
                  window.location.replace('./rep-teams.html');
                } catch (error2) {
                  // Method 3: Using assign
                  window.location.assign('./rep-teams.html');
                }
              }
            };
            
            // Add mobile touch handlers
            box.addEventListener('touchstart', function(e) {
              // Visual feedback
              this.style.opacity = '0.8';
              this.style.transform = 'scale(0.98)';
              e.stopPropagation();
            }, { passive: true });
            
            box.addEventListener('touchend', function(e) {
              // Reset visual feedback
              this.style.opacity = '';
              this.style.transform = '';
              // Navigate to rep teams page
              if (e.target.closest('.rep-team-box') === this) {
                navigateToRepTeams(e);
              }
            }, { passive: false });
            
            // Backup click handler
            box.addEventListener('click', function(e) {
              if (isMobile()) {
                navigateToRepTeams(e);
              }
            }, { passive: false });
          }
        });
      }
    });
    // Lazy loading star animation initialization - mobile optimized
    function createStarAnimations() {
      const starContainer = document.getElementById('stars');
      if (!starContainer) return;
      
      const isMobileInit = isMobileDevice();
      const numStars = isMobileInit ? 40 : 150; // Further reduced stars on mobile for better performance
      
      for (let i = 0; i < numStars; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        const size = isMobileInit ? Math.random() * 1.5 + 0.5 + 'px' : Math.random() * 3 + 'px';
        star.style.width = size;
        star.style.height = size;
        star.style.top = Math.random() * 100 + '%';
        star.style.left = Math.random() * 100 + '%';
        star.style.animationDuration = (Math.random() * 3 + 2) + 's';
        starContainer.appendChild(star);
      }
    }

// Optimized parallax effects with throttling and mobile detection
let ticking = false;
let scrollY = 0;

// Cache DOM elements for better performance
const stars = document.querySelectorAll('.star');
const header = document.querySelector('header');
const logo = document.querySelector('.logo-left');
const repTeamBox = document.querySelector('.rep-team-box');
const nav = document.querySelector('nav');

// Detect if user prefers reduced motion
const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

// Check if device is mobile
function isMobileDevice() {
  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 768;
}

function updateParallax() {
  // Skip heavy animations on mobile or if user prefers reduced motion
  const isMobile = isMobileDevice();
  const shouldReduceEffects = isMobile || prefersReducedMotion;
  
  if (!shouldReduceEffects) {
    // Full parallax effects for desktop
    stars.forEach((star, index) => {
      const speed = (index % 5) + 1;
      star.style.transform = `translate3d(0, ${scrollY / speed}px, 0)`;
    });
    
    if (header) {
      header.style.transform = `translate3d(0, ${scrollY * 0.3}px, 0)`;
    }
    
    if (logo) {
      logo.style.transform = `translate3d(0, ${scrollY * 0.4}px, 0) scale3d(1, 1, 1)`;
    }
    
    if (repTeamBox) {
      repTeamBox.style.transform = `translate3d(0, ${scrollY * 0.4}px, 0)`;
    }
  } else if (isMobile) {
    // Minimal effects for mobile - only essential animations
    stars.forEach((star, index) => {
      if (index % 3 === 0) { // Animate only every 3rd star
        const speed = (index % 5) + 3; // Slower speed
        star.style.transform = `translate3d(0, ${scrollY / speed}px, 0)`;
      }
    });
  }
  
  // Always handle nav collapse (lightweight)
  if (nav) {
    if (scrollY > 200) {
      nav.classList.add('collapsed');
    } else {
      nav.classList.remove('collapsed');
    }
  }
  
  ticking = false;
}

// Lazy loading shimmer star animation initialization
function createShimmerStars() {
  const shimmerContainer = document.createElement('div');
  shimmerContainer.className = 'shimmer-stars';
  document.body.appendChild(shimmerContainer);
  
  const isMobileInit = isMobileDevice();
  const numShimmerStars = isMobileInit ? 15 : 50; // Further reduced shimmer stars on mobile
  
  for (let i = 0; i < numShimmerStars; i++) {
    const s = document.createElement('div');
    s.className = 'shimmer-star';
    const size = isMobileInit ? Math.random() * 1.2 + 0.8 + 'px' : Math.random() * 2 + 1 + 'px';
    s.style.width = size;
    s.style.height = size;
    s.style.top = Math.random() * 100 + '%';
    s.style.left = Math.random() * 100 + '%';
    shimmerContainer.appendChild(s);
  }
  
  // Initialize animation variables after creation
  window.shimmerStars = document.querySelectorAll('.shimmer-star');
  window.shimmerTicking = false;
}

// Initialize animation variables globally for later use
let shimmerStars = [];
let shimmerTicking = false;

// Optimized shimmer star animation with the main scroll handler
function updateShimmerStars() {
  const isMobile = isMobileDevice();
  const shouldReduceEffects = isMobile || prefersReducedMotion;
  
  if (!shouldReduceEffects) {
    // Full shimmer effects for desktop
    shimmerStars.forEach((s, i) => {
      const speed = (i % 3) + 1;
      s.style.transform = `translate3d(${scrollY / (speed * 20)}px, ${scrollY / (speed * 15)}px, 0)`;
    });
  } else if (isMobile) {
    // Minimal shimmer effects for mobile - only animate every 4th star
    shimmerStars.forEach((s, i) => {
      if (i % 4 === 0) {
        const speed = (i % 3) + 2; // Slower movement
        s.style.transform = `translate3d(${scrollY / (speed * 30)}px, ${scrollY / (speed * 25)}px, 0)`;
      }
    });
  }
}

// Integrate shimmer star updates into the main parallax function
function updateParallaxAndShimmers() {
  updateParallax();
  updateShimmerStars();
}

// Throttled scroll handler using requestAnimationFrame
function handleScroll() {
  scrollY = window.pageYOffset || document.documentElement.scrollTop;
  
  if (!ticking) {
    requestAnimationFrame(updateParallaxAndShimmers);
    ticking = true;
  }
}

// Lazy loading parallax initialization
function initializeParallaxAndScrollEffects() {
  const isMobileInit = isMobileDevice();
  
  if (!isMobileInit) {
    // Full parallax only on desktop - initialize immediately on desktop
    window.addEventListener('scroll', handleScroll, { passive: true });
  } else {
    // Ultra-lightweight scroll handling for mobile - no delays
    let mobileScrollTicking = false;
    const mobileScrollHandler = () => {
      if (!mobileScrollTicking) {
        requestAnimationFrame(() => {
          const scrollY = window.pageYOffset;
          const nav = document.querySelector('nav');
          if (nav && scrollY > 100) {
            nav.classList.add('collapsed');
          } else if (nav) {
            nav.classList.remove('collapsed');
          }
          mobileScrollTicking = false;
        });
        mobileScrollTicking = true;
      }
    };
    
    window.addEventListener('scroll', mobileScrollHandler, { passive: true });
  }
}


    // Hamburger menu toggle with improved state management
    document.getElementById("menu-toggle").addEventListener("click", () => {
      const navLinks = document.getElementById("nav-links");
      const menuToggle = document.getElementById("menu-toggle");
      const navLogo = document.querySelector(".nav-logo");
      
      navLinks.classList.toggle("active");
      menuToggle.classList.toggle("active");
      
      // Hide/show logo when mobile menu is toggled
      if (navLinks.classList.contains("active")) {
        navLogo.classList.add("hidden");
      } else {
        navLogo.classList.remove("hidden");
      }
    });
    
    // Close mobile menu when clicking on nav links
    document.querySelectorAll(".nav-links a").forEach(link => {
      link.addEventListener("click", () => {
        const navLinks = document.getElementById("nav-links");
        const menuToggle = document.getElementById("menu-toggle");
        const navLogo = document.querySelector(".nav-logo");
        
        navLinks.classList.remove("active");
        menuToggle.classList.remove("active");
        navLogo.classList.remove("hidden");
      });
    });
    
    // Close mobile menu when clicking outside
    document.addEventListener("click", (e) => {
      const nav = document.querySelector("nav");
      const navLinks = document.getElementById("nav-links");
      const menuToggle = document.getElementById("menu-toggle");
      const navLogo = document.querySelector(".nav-logo");
      
      if (!nav.contains(e.target) && navLinks.classList.contains("active")) {
        navLinks.classList.remove("active");
        menuToggle.classList.remove("active");
        navLogo.classList.remove("hidden");
      }
    });

    // Back to top button functionality
    document.getElementById("back-to-top").addEventListener("click", () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });

    // Ultra-fast mobile experience enhancements
    function enhanceFullScreenMobile() {
      if (isMobile()) {
        // Instant viewport handling
        const setVH = () => {
          const vh = window.innerHeight * 0.01;
          document.documentElement.style.setProperty('--vh', `${vh}px`);
        };
        
        setVH();
        
        // Minimal delay resize handling
        window.addEventListener('resize', setVH, { passive: true });
        window.addEventListener('orientationchange', () => {
          requestAnimationFrame(setVH); // Immediate response
        }, { passive: true });
        
        // Ultra-lightweight touch handling
        const preventZoomElements = document.querySelectorAll('a, button, .btn');
        preventZoomElements.forEach(element => {
          element.addEventListener('touchstart', function(e) {
            // Instant visual feedback
            this.style.opacity = '0.7';
          }, { passive: true });
          
          element.addEventListener('touchend', function(e) {
            // Reset visual feedback
            this.style.opacity = '';
            
            // Instant navigation without delays
            if (this.href && !this.href.includes('javascript:')) {
              e.preventDefault();
              window.location.href = this.href;
            }
          }, { passive: false });
        });
        
        // Prevent scrolling delays
        document.body.style.webkitOverflowScrolling = 'touch';
        document.body.style.overflowScrolling = 'touch';
      }
    }
    
    // Lazy loading animation system for mobile performance
    function initializeLazyAnimations() {
      const isMobileInit = isMobileDevice();
      
      if (isMobileInit) {
        // Mobile: Initialize animations immediately on load
        window.addEventListener('load', () => {
          // Use requestAnimationFrame for smooth initialization
          requestAnimationFrame(() => {
            createStarAnimations();
            createShimmerStars();
            initializeParallaxAndScrollEffects();
            
            // Mark animations as loaded
            document.body.classList.add('animations-loaded');
          });
        });
        
        // Also initialize on first user interaction (scroll or touch)
        let animationsInitialized = false;
        const initOnInteraction = () => {
          if (!animationsInitialized) {
            animationsInitialized = true;
            createStarAnimations();
            createShimmerStars();
            initializeParallaxAndScrollEffects();
            document.body.classList.add('animations-loaded');
            
            // Remove event listeners after initialization
            window.removeEventListener('scroll', initOnInteraction);
            window.removeEventListener('touchstart', initOnInteraction);
          }
        };
        
        // Initialize animations on first user interaction
        window.addEventListener('scroll', initOnInteraction, { passive: true, once: true });
        window.addEventListener('touchstart', initOnInteraction, { passive: true, once: true });
        
      } else {
        // Desktop: Initialize immediately for full experience
        createStarAnimations();
        createShimmerStars();
        initializeParallaxAndScrollEffects();
        document.body.classList.add('animations-loaded');
      }
    }
    
    // Initialize full screen enhancements when DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
      enhanceFullScreenMobile();
      initializeLazyAnimations();
    });

</script>
</html>